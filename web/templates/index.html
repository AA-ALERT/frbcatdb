<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>FRB Cataloque</title>
    <meta name="description" content="This is the Fast Radio Burst (FRB) Catalogue.">
    <meta name="author" content="aa-alert">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
  	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.3.js"></script>
  	<script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
</head>

<script>
$(document).ready(function() {
  var table = $('#table1').DataTable( {
    "paging": false,
    "info": false,
    "searching": false,
    "bProcessing": true,
    "bjQueryUI": true,
    "sAjaxSource": "{{ url_for('show_FRBs') }}"
  } );

  $('#table1 tbody').on( 'click', 'td', function () {
    var cell = $(this).html().trim();
    var row = $(this).parent().find('td').html().trim();
    var col = $('#table1 thead tr th').eq($(this).index()).html().trim();
    // console.log('Data:'+cell);
    // console.log('Row:'+row);
    // console.log('Column:'+col);
    if (col == "VOEvent"){
      var newPage = "{{ url_for('show_VO_event') }}";
      newPage += '?vo_event_ivorn='+encodeURIComponent(cell);
      window.location.href = newPage;
    }else{
      var newPage = "{{ url_for('show_FRB') }}";
      newPage += '?frb_name='+encodeURIComponent(row);
      window.location.href = newPage;
    }
  });
} );
</script>

<body>
	<div class="container">
    <table id="table1" class="display" cellspacing="0" width="100%">
          <thead>
              <tr>
                {% for col in columns_frbs %}
                    <th>{{ col }}</th>
                {% endfor %}
              </tr>
          </thead>
          <!-- <tfoot>
              <tr>
              {% for col in columns_frbs %}
                  <th>{{ col }}</th>
              {% endfor %}
              </tr>
          </tfoot> -->
      </table>
	</div>
</body>

<!-- <footer class="footer">
	<div class="container">
    <ul class="footer-links">
        <li>Â© 2016</li>
        <li><a href='https://github.com/AA-ALERT/frbcatdb'>About</a></li>
	</ul>
	</div> -->
</footer>

</html>
